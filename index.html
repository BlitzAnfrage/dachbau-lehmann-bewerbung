<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bewerbung | Jörg Lehmann Dachdeckerei (Freisen)</title>
  <meta name="description" content="Dachdecker gesucht (m/w/d) – bis 21 €/h, bezahlte Pausen, regionale Baustellen, top Ausstattung. Bewerbung in 2–4 Minuten." />
  <meta name="theme-color" content="#ffffff" />

  <style>
    :root{
      --bg:#f6f7f9;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --shadow: 0 16px 45px rgba(17,24,39,.08);
      --shadow2: 0 10px 28px rgba(17,24,39,.06);
      --radius:18px;

      --brand:#e53935; /* rot wie Logo */
      --brand2:#111827;
      --accent:#0ea5e9;
      --ok:#16a34a;
      --danger:#e11d48;

      --btn:#111827;
      --btnText:#ffffff;

      --focus: 0 0 0 4px rgba(229,57,53,.12);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 10% 0%, rgba(229,57,53,.10), transparent 55%),
        radial-gradient(900px 650px at 90% 10%, rgba(14,165,233,.09), transparent 55%),
        var(--bg);
    }

    a{color:inherit}
    .container{max-width:1120px; margin:0 auto; padding:18px}

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:30;
      background: rgba(246,247,249,.80);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--line);
    }
    .topbar-inner{
      max-width:1120px; margin:0 auto;
      padding:12px 18px;
      display:flex; align-items:center; justify-content:space-between; gap:14px;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      text-decoration:none;
      min-width: 240px;
    }
    .brand img{
      width:44px; height:44px; object-fit:contain;
      border-radius: 12px;
      background:#fff;
      border:1px solid var(--line);
      box-shadow: var(--shadow2);
      padding:6px;
    }
    .brand .t1{font-weight:800; letter-spacing:-.2px; line-height:1.1}
    .brand .t2{font-size:12px; color:var(--muted); margin-top:2px}

    .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end;}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:10px 14px;
      border-radius: 14px;
      border:1px solid var(--line);
      background:#fff;
      cursor:pointer;
      text-decoration:none;
      font-weight:700;
      transition:.15s ease;
      box-shadow: 0 6px 18px rgba(17,24,39,.04);
    }
    .btn:hover{transform: translateY(-1px)}
    .btn.primary{
      background: linear-gradient(180deg, var(--btn), #0b1220);
      color: var(--btnText);
      border-color: rgba(17,24,39,.18);
      box-shadow: 0 14px 35px rgba(17,24,39,.16);
    }
    .btn.primary:hover{filter:brightness(1.02)}
    .btn.red{
      background: linear-gradient(180deg, var(--brand), #c62828);
      color:#fff;
      border-color: rgba(229,57,53,.25);
      box-shadow: 0 14px 35px rgba(229,57,53,.20);
    }
    .btn.red:hover{filter:brightness(1.02)}
    .hide-sm{display:inline-flex}
    @media (max-width:760px){
      .hide-sm{display:none}
      .brand{min-width:auto}
    }

    /* Hero */
    .hero{padding:22px 0 14px}
    .hero-grid{
      display:grid; gap:16px;
      grid-template-columns: 1.15fr .85fr;
      align-items:stretch;
    }
    @media (max-width:960px){.hero-grid{grid-template-columns:1fr}}

    .panel{
      background: var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .hero-left{padding:22px}
    .pill{
      display:inline-flex; align-items:center; gap:10px;
      border:1px solid var(--line);
      background: #fff;
      padding:6px 10px;
      border-radius: 999px;
      font-size:12px;
      color: var(--muted);
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: var(--brand);
      box-shadow: 0 0 0 4px rgba(229,57,53,.10);
    }
    h1{
      margin:12px 0 8px;
      font-size: 40px;
      line-height:1.05;
      letter-spacing:-1px;
    }
    @media (max-width:520px){h1{font-size:32px}}
    .accent{color: var(--brand)}
    .lead{
      margin:0;
      color: rgba(17,24,39,.78);
      font-size:16px;
      line-height:1.55;
    }
    .kpis{
      display:flex; flex-wrap:wrap; gap:10px;
      margin-top:14px;
    }
    .kpi{
      flex: 1 1 auto;
      min-width: 210px;
      border:1px solid var(--line);
      border-radius: 16px;
      padding:12px;
      background: #fff;
    }
    .kpi strong{display:block; font-size:13px; margin-bottom:6px}
    .kpi span{display:block; color: rgba(17,24,39,.70); font-size:13px; line-height:1.45}

    .hero-right{
      min-height: 340px;
      position:relative;
      background:
        linear-gradient(180deg, rgba(255,255,255,.45), rgba(255,255,255,.95)),
        url("hero.jpg");
      background-size: cover;
      background-position:center;
    }
    .hero-right::after{
      content:"Bildplatzhalter: hero.jpg (optional hochladen)";
      position:absolute; left:14px; bottom:14px;
      font-size:12px;
      color: rgba(17,24,39,.68);
      background: rgba(255,255,255,.92);
      border:1px solid var(--line);
      padding:8px 10px;
      border-radius: 14px;
    }

    /* Sections */
    .section{padding:12px 0 16px}
    h2{margin:10px 0 10px; font-size:20px; letter-spacing:-.3px}
    .grid3{
      display:grid; gap:12px;
      grid-template-columns: repeat(3, 1fr);
    }
    @media (max-width:960px){.grid3{grid-template-columns:1fr}}
    .card{
      background:#fff;
      border:1px solid var(--line);
      border-radius: 18px;
      padding:16px;
      box-shadow: 0 8px 22px rgba(17,24,39,.05);
    }
    .card strong{display:block; margin-bottom:6px}
    .card p{margin:0; color: rgba(17,24,39,.72); font-size:14px; line-height:1.5}

    /* Apply */
    .apply-grid{
      display:grid; gap:16px;
      grid-template-columns: .95fr 1.05fr;
      align-items:start;
    }
    @media (max-width:960px){.apply-grid{grid-template-columns:1fr}}
    .info-img{
      height: 190px;
      background:
        linear-gradient(180deg, rgba(255,255,255,.35), rgba(255,255,255,.95)),
        url("team.jpg");
      background-size:cover;
      background-position:center;
      position:relative;
    }
    .info-img::after{
      content:"Bildplatzhalter: team.jpg (optional hochladen)";
      position:absolute; left:14px; bottom:14px;
      font-size:12px;
      color: rgba(17,24,39,.68);
      background: rgba(255,255,255,.92);
      border:1px solid var(--line);
      padding:8px 10px;
      border-radius: 14px;
    }
    .info-body{padding:16px}
    .info-body ol{margin:10px 0 0 18px; color: rgba(17,24,39,.72); font-size:14px; line-height:1.55}
    .company{
      margin-top:14px;
      border:1px solid var(--line);
      border-radius: 16px;
      padding:12px;
      background: #fff;
      box-shadow: 0 8px 22px rgba(17,24,39,.05);
      font-size: 13px;
      color: rgba(17,24,39,.75);
    }
    .company strong{color: var(--text)}

    .funnel{padding:16px}
    .fhead{display:flex; align-items:flex-start; justify-content:space-between; gap:12px}
    .fhead h3{margin:0; font-size:18px; letter-spacing:-.2px}
    .fhead p{margin:6px 0 0; color: rgba(17,24,39,.70); font-size:13px; line-height:1.45}

    /* Progress */
    .progress{margin-top:12px}
    .progress-top{display:flex; justify-content:space-between; font-size:12px; color: var(--muted)}
    .bar{height:10px; border-radius:999px; background: #eef0f3; overflow:hidden; margin-top:8px}
    .bar > div{height:100%; width:0%; background: linear-gradient(90deg, var(--brand), #ff6b6b); transition: width .2s ease}

    /* Steps */
    .step{margin-top:14px; display:none}
    .step.active{display:block; animation: pop .18s ease}
    @keyframes pop{from{opacity:0; transform: translateY(8px)} to{opacity:1; transform: translateY(0)}}

    .row{display:grid; gap:12px; grid-template-columns:1fr 1fr}
    @media (max-width:520px){.row{grid-template-columns:1fr}}

    label{display:block; font-size:13px; color: rgba(17,24,39,.76); font-weight:650}
    input, select, textarea{
      width:100%;
      margin-top:8px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid var(--line);
      background:#fff;
      color: var(--text);
      outline:none;
      box-shadow: 0 6px 18px rgba(17,24,39,.03);
    }
    textarea{min-height:120px; resize:vertical}
    input:focus, select:focus, textarea:focus{
      border-color: rgba(229,57,53,.35);
      box-shadow: var(--focus);
    }
    .error{margin-top:8px; color: var(--danger); font-size:13px; display:none}

    /* Chips */
    .chips{display:grid; gap:10px; grid-template-columns:1fr 1fr; margin-top:10px}
    @media (max-width:520px){.chips{grid-template-columns:1fr}}
    .chip{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      border:1px solid var(--line);
      background:#fff;
      padding:12px 12px;
      border-radius: 14px;
      cursor:pointer;
      user-select:none;
      transition:.15s ease;
      box-shadow: 0 6px 18px rgba(17,24,39,.03);
    }
    .chip:hover{transform: translateY(-1px)}
    .tick{
      width:22px; height:22px;
      border-radius:8px;
      border:1px solid rgba(17,24,39,.14);
      display:grid; place-items:center;
      color: transparent;
      background: transparent;
      font-weight:900;
    }
    .chip.on .tick{
      background: linear-gradient(180deg, rgba(229,57,53,.95), rgba(198,40,40,.95));
      border-color: rgba(229,57,53,.35);
      color:#fff;
    }

    /* Nav */
    .nav{
      margin-top:14px;
      display:flex; gap:10px;
      flex-wrap:wrap;
      justify-content:space-between;
      align-items:center;
    }
    .nav .btn{min-width:140px}
    .hint{margin-top:10px; font-size:12px; color: var(--muted)}

    /* Footer */
    .footer{
      margin-top:18px;
      border-top:1px solid var(--line);
      padding:16px 0 22px;
      color: var(--muted);
      font-size:13px;
    }
    .footer a{color: rgba(17,24,39,.86)}

    /* Toast */
    .toast{
      position:fixed; left:16px; right:16px; bottom:16px;
      max-width:560px; margin:0 auto;
      border:1px solid var(--line);
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(10px);
      border-radius: 18px;
      padding:12px 14px;
      box-shadow: var(--shadow);
      display:none;
    }
    .toast strong{display:block}
    .toast span{display:block; margin-top:4px; color: rgba(17,24,39,.72); font-size:13px; line-height:1.4}
  </style>
</head>

<body>
  <header class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="#top" aria-label="Start">
        <!-- Logo: lade ins Repo eine Datei 'logo.webp' (oder ändere hier den Namen) -->
        <img src="logo.webp" alt="Jörg Lehmann Dachdeckerei Logo" onerror="this.style.display='none'">
        <div>
          <div class="t1">Jörg Lehmann Dachdeckerei</div>
          <div class="t2">Meisterbetrieb • Freisen (Saarland)</div>
        </div>
      </a>

      <div class="actions">
        <a class="btn hide-sm" href="tel:+4968557466">Anrufen: 06855 7466</a>
        <a class="btn red" href="#bewerben">Jetzt bewerben</a>
      </div>
    </div>
  </header>

  <main id="top" class="container">
    <!-- HERO -->
    <section class="hero">
      <div class="hero-grid">
        <div class="panel hero-left">
          <div class="pill"><span class="dot"></span> Regional • Dachdeckerei & Bauspenglerei • 66629 Freisen</div>
          <h1>Dachdecker gesucht: <span class="accent">Geselle</span> (m/w/d)</h1>
          <p class="lead">
            Bewerbung in <strong>2–4 Minuten</strong> – ohne Anschreiben. Quereinsteiger/Hilfskraft mit guter Qualifikation & Motivation sind ebenfalls willkommen.
          </p>

          <div class="kpis">
            <div class="kpi">
              <strong>Stundenlohn</strong>
              <span>bis zu <b>21 €</b> (fair & transparent)</span>
            </div>
            <div class="kpi">
              <strong>Pausen</strong>
              <span>Frühstück & Mittagspause <b>bezahlt</b></span>
            </div>
            <div class="kpi">
              <strong>Baustellen</strong>
              <span><b>regional</b> – planbar, keine Fernmontage</span>
            </div>
          </div>

          <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap;">
            <a class="btn primary" href="#bewerben">In 2–4 Minuten bewerben</a>
            <a class="btn" href="tel:+4968557466">Fragen? Direkt anrufen</a>
          </div>
        </div>

        <div class="panel hero-right" aria-label="Hero Bild Platzhalter"></div>
      </div>
    </section>

    <!-- BENEFITS -->
    <section class="section">
      <h2>Warum du hier gut aufgehoben bist</h2>
      <div class="grid3">
        <div class="card"><strong>Bezahlte Pausen</strong><p>Frühstück & Mittagspause sind bezahlt – entspannt & fair.</p></div>
        <div class="card"><strong>Top Ausstattung</strong><p>Sehr gute Maschinen, Fahrzeuge und moderne Büroausstattung.</p></div>
        <div class="card"><strong>Tarifliche Urlaubstage</strong><p>Sauber geregelt – Urlaub nach Tarif.</p></div>
        <div class="card"><strong>Weiterbildung</strong><p>z. B. Kranschein, Spezialisierungen, neue Techniken.</p></div>
        <div class="card"><strong>Regionale Baustellen</strong><p>Saarland/Umgebung – weniger Fahrerei, mehr Planbarkeit.</p></div>
        <div class="card"><strong>Arbeitssicherheit</strong><p>Saubere Prozesse, moderne Ausstattung, Fokus auf Sicherheit.</p></div>
      </div>
    </section>

    <!-- REQUIREMENTS -->
    <section class="section">
      <h2>Was wir suchen</h2>
      <div class="grid3">
        <div class="card"><strong>Dachdecker Geselle</strong><p>Sehr gern – solide Erfahrung und saubere Arbeit.</p></div>
        <div class="card"><strong>Quereinsteiger / Hilfskraft</strong><p>Wenn du motiviert, jung & qualifiziert bist, passt das auch.</p></div>
        <div class="card"><strong>Pluspunkte</strong><p>Abdichtung (Schweißbahn), Klempner, Ziegelkenntnisse, Zimmerei.</p></div>
      </div>
    </section>

    <!-- APPLY -->
    <section class="section" id="bewerben">
      <div class="apply-grid">
        <aside class="panel">
          <div class="info-img"></div>
          <div class="info-body">
            <h2 style="margin-top:0">So läuft’s ab</h2>
            <ol>
              <li>Kurzformular ausfüllen (ohne Anschreiben)</li>
              <li>Du klickst auf „Bewerbung senden“</li>
              <li>Dein Mailprogramm öffnet sich → nur noch senden</li>
            </ol>

            <div class="company">
              <strong>Jörg Lehmann Dachdeckerei</strong><br/>
              In der Zennwies 4, 66629 Freisen<br/>
              Tel.: <a href="tel:+4968557466">06855 7466</a><br/>
              Website: <a href="https://www.dachbau-lehmann.de" target="_blank" rel="noreferrer">www.dachbau-lehmann.de</a>
            </div>
          </div>
        </aside>

        <section class="panel funnel" aria-label="Bewerbungsfunnel">
          <div class="fhead">
            <div>
              <h3>Schnellbewerbung</h3>
              <p>Ohne Anschreiben. Modern. In wenigen Minuten erledigt.</p>
            </div>
            <div style="text-align:right; font-size:12px; color:var(--muted)">
              <div>Kontakt</div>
              <a href="tel:+4968557466" style="text-decoration:underline">06855 7466</a>
            </div>
          </div>

          <div class="progress">
            <div class="progress-top">
              <span id="stepLabel">Schritt 1 von 4</span>
              <span id="pctLabel">25%</span>
            </div>
            <div class="bar"><div id="barFill"></div></div>
          </div>

          <!-- STEP 1 -->
          <div class="step active" data-step="1">
            <div class="row">
              <div>
                <label>Vor- & Nachname
                  <input id="fullName" placeholder="z. B. Max Mustermann" autocomplete="name" />
                </label>
                <div class="error" id="errFullName">Bitte Namen eintragen.</div>
              </div>

              <div>
                <label>Telefon
                  <input id="phone" placeholder="z. B. 0176 123456" autocomplete="tel" />
                </label>
                <div class="error" id="errPhone">Bitte Telefonnummer eintragen.</div>
              </div>

              <div>
                <label>E-Mail (optional)
                  <input id="email" placeholder="z. B. max@mail.de" autocomplete="email" />
                </label>
              </div>

              <div>
                <label>Wohnort
                  <input id="city" placeholder="z. B. Freisen" autocomplete="address-level2" />
                </label>
                <div class="error" id="errCity">Bitte Ort eintragen.</div>
              </div>
            </div>
          </div>

          <!-- STEP 2 -->
          <div class="step" data-step="2">
            <div class="row">
              <div>
                <label>Du bist…
                  <select id="role">
                    <option value="Dachdecker Geselle">Dachdecker Geselle</option>
                    <option value="Quereinsteiger (qualifiziert)">Quereinsteiger (qualifiziert)</option>
                    <option value="Hilfskraft (jung & motiviert)">Hilfskraft (jung & motiviert)</option>
                  </select>
                </label>
              </div>

              <div>
                <label>Berufserfahrung
                  <select id="exp">
                    <option>0–1 Jahre</option>
                    <option selected>2–4 Jahre</option>
                    <option>5–9 Jahre</option>
                    <option>10+ Jahre</option>
                  </select>
                </label>
              </div>

              <div>
                <label>Start möglich
                  <select id="start">
                    <option selected>Sofort</option>
                    <option>In 2 Wochen</option>
                    <option>In 1 Monat</option>
                    <option>Später</option>
                  </select>
                </label>
              </div>

              <div class="card" style="border-radius:16px; padding:14px;">
                <strong>Kurzer Hinweis</strong>
                <p>Wenn du zuverlässig bist und sauber arbeitest, passt du sehr gut rein. Spezialisierung ist ein Plus, aber kein Muss.</p>
              </div>
            </div>
          </div>

          <!-- STEP 3 -->
          <div class="step" data-step="3">
            <label style="margin-top:6px; display:block;">
              Was kannst du gut? (anklicken)
            </label>

            <div class="chips">
              <div class="chip" data-toggle="abdichtung"><span>Abdichtung (Schweißbahn etc.)</span><span class="tick">✓</span></div>
              <div class="chip" data-toggle="klempner"><span>Klempner / Bauspenglerei</span><span class="tick">✓</span></div>
              <div class="chip on" data-toggle="ziegel"><span>Ziegel / Steildach</span><span class="tick">✓</span></div>
              <div class="chip" data-toggle="zimmerei"><span>Zimmerei (nice to have)</span><span class="tick">✓</span></div>
            </div>

            <label style="margin-top:12px;">Kurze Nachricht (optional)
              <textarea id="message" placeholder="z. B. welche Arbeiten machst du am liebsten?"></textarea>
            </label>
          </div>

          <!-- STEP 4 -->
          <div class="step" data-step="4">
            <label style="margin-top:6px; display:block;">
              Führerschein (anklicken)
            </label>

            <div class="chips">
              <div class="chip on" data-toggle="fsb"><span>Klasse B vorhanden</span><span class="tick">✓</span></div>
              <div class="chip" data-toggle="lkwHas"><span>LKW-Führerschein vorhanden</span><span class="tick">✓</span></div>
              <div class="chip on" data-toggle="lkwWant"><span>LKW erwünscht (kann gestellt werden)</span><span class="tick">✓</span></div>
            </div>

            <div class="card" style="margin-top:12px; border-radius:16px;">
              <strong>Datenschutz</strong>
              <p>Mit „Bewerbung senden“ öffnet sich dein Mailprogramm mit fertig ausgefülltem Text. Bitte dann nur noch auf <b>Senden</b> klicken.</p>

              <label style="margin-top:10px; display:flex; gap:10px; align-items:flex-start; font-weight:650;">
                <input id="consent" type="checkbox" checked style="width:auto; margin-top:4px"/>
                <span style="font-size:13px; color:rgba(17,24,39,.74)">
                  Ich bin einverstanden, dass meine Angaben zur Kontaktaufnahme verarbeitet werden.
                </span>
              </label>
              <div class="error" id="errConsent">Bitte Zustimmung aktivieren.</div>
            </div>
          </div>

          <div class="nav">
            <button class="btn" id="backBtn" type="button">Zurück</button>
            <button class="btn primary" id="nextBtn" type="button">Weiter</button>
          </div>

          <div class="hint">
            Tipp: Lieber direkt sprechen? <a href="tel:+4968557466" style="text-decoration:underline">06855 7466</a>
          </div>
        </section>
      </div>

      <footer class="footer">
        <div style="display:flex; flex-wrap:wrap; gap:10px; justify-content:space-between; align-items:center;">
          <div>
            <strong style="color:rgba(17,24,39,.90)">Jörg Lehmann Dachdeckerei</strong><br/>
            In der Zennwies 4 • 66629 Freisen
          </div>
          <div style="display:flex; gap:14px;">
            <a href="https://www.dachbau-lehmann.de" target="_blank" rel="noreferrer">Website</a>
            <a href="tel:+4968557466">Telefon</a>
          </div>
        </div>
      </footer>
    </section>
  </main>

  <div class="toast" id="toast">
    <strong id="toastTitle">Hinweis</strong>
    <span id="toastDesc"></span>
  </div>

<script>
  // ====== KONFIG: ZIEL-E-MAIL ======
  const TO_EMAIL = "bewerbung@dachbau-lehmann.de"; // <- HIER ggf. ändern

  // ====== Funnel State ======
  let step = 1;
  const total = 4;

  const state = {
    skills: { abdichtung:false, klempner:false, ziegel:true, zimmerei:false },
    driving: { fsb:true, lkwHas:false, lkwWant:true }
  };

  // ====== Helpers ======
  const $ = (id) => document.getElementById(id);
  const show = (el, on) => el.style.display = on ? "block" : "none";

  function setStep(n){
    step = Math.max(1, Math.min(total, n));
    document.querySelectorAll(".step").forEach(s => {
      s.classList.toggle("active", Number(s.dataset.step) === step);
    });

    const pct = Math.round((step/total)*100);
    $("stepLabel").textContent = `Schritt ${step} von ${total}`;
    $("pctLabel").textContent = `${pct}%`;
    $("barFill").style.width = pct + "%";

    $("backBtn").disabled = (step === 1);
    $("nextBtn").textContent = (step === total) ? "Bewerbung senden" : "Weiter";
  }

  function toast(title, desc){
    $("toastTitle").textContent = title;
    $("toastDesc").textContent = desc || "";
    $("toast").style.display = "block";
    setTimeout(() => $("toast").style.display = "none", 3200);
  }

  // ====== Chip toggles ======
  document.querySelectorAll(".chip[data-toggle]").forEach(chip => {
    chip.addEventListener("click", () => {
      const key = chip.dataset.toggle;

      // Skills keys
      if (["abdichtung","klempner","ziegel","zimmerei"].includes(key)){
        state.skills[key] = !state.skills[key];
        chip.classList.toggle("on", state.skills[key]);
      }

      // Driving keys
      if (key === "fsb"){ state.driving.fsb = !state.driving.fsb; chip.classList.toggle("on", state.driving.fsb); }
      if (key === "lkwHas"){ state.driving.lkwHas = !state.driving.lkwHas; chip.classList.toggle("on", state.driving.lkwHas); }
      if (key === "lkwWant"){ state.driving.lkwWant = !state.driving.lkwWant; chip.classList.toggle("on", state.driving.lkwWant); }
    });
  });

  // ====== Validation ======
  function validateStep1(){
    const name = $("fullName").value.trim();
    const phone = $("phone").value.trim();
    const city = $("city").value.trim();

    show($("errFullName"), name.length < 2);
    show($("errPhone"), phone.length < 6);
    show($("errCity"), city.length < 2);

    return !(name.length < 2 || phone.length < 6 || city.length < 2);
  }

  function validateStep4(){
    const ok = $("consent").checked;
    show($("errConsent"), !ok);
    return ok;
  }

  // ====== Submit via mailto (GitHub-only) ======
  function submit(){
    if (!validateStep4()) return;

    const data = {
      fullName: $("fullName").value.trim(),
      phone: $("phone").value.trim(),
      email: $("email").value.trim(),
      city: $("city").value.trim(),
      role: $("role").value,
      exp: $("exp").value,
      start: $("start").value,
      message: $("message").value.trim(),
      skills: state.skills,
      driving: state.driving
    };

    const subject = encodeURIComponent(`Bewerbung: ${data.fullName} (${data.role})`);

    const bodyText =
`Hallo Jörg Lehmann Dachdeckerei,

ich möchte mich bewerben.

Name: ${data.fullName}
Telefon: ${data.phone}
E-Mail: ${data.email || "-"}
Ort: ${data.city}

Profil: ${data.role}
Berufserfahrung: ${data.exp}
Start: ${data.start}

Skills:
- Abdichtung (Schweißbahn etc.): ${data.skills.abdichtung ? "Ja" : "Nein"}
- Klempner/Bauspenglerei: ${data.skills.klempner ? "Ja" : "Nein"}
- Ziegel/Steildach: ${data.skills.ziegel ? "Ja" : "Nein"}
- Zimmerei: ${data.skills.zimmerei ? "Ja" : "Nein"}

Führerschein:
- Klasse B: ${data.driving.fsb ? "Ja" : "Nein"}
- LKW vorhanden: ${data.driving.lkwHas ? "Ja" : "Nein"}
- LKW erwünscht (kann gestellt werden): ${data.driving.lkwWant ? "Ja" : "Nein"}

Nachricht:
${data.message || "-"}

Viele Grüße
${data.fullName}`;

    const body = encodeURIComponent(bodyText);

    toast("Fast fertig ✅", "Dein Mailprogramm öffnet sich – bitte nur noch auf Senden klicken.");
    window.location.href = `mailto:${TO_EMAIL}?subject=${subject}&body=${body}`;
  }

  // ====== Nav buttons ======
  $("backBtn").addEventListener("click", () => setStep(step - 1));
  $("nextBtn").addEventListener("click", () => {
    if (step === 1 && !validateStep1()) {
      toast("Bitte kurz ausfüllen", "Name, Telefon und Ort sind Pflicht.");
      return;
    }
    if (step < total) setStep(step + 1);
    else submit();
  });

  // init
  setStep(1);
</script>
</body>
</html>
